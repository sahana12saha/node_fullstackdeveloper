(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(38)},26:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=(a(26),a(7)),i=a(4),s=a(40);var u=()=>{const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),c=Object(i.p)();return r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const t=await s.a.post("/api/users/login",{email:e,password:a});localStorage.setItem("token",t.data.token),c("/tasks")}catch(n){console.error("Login failed",n)}}},r.a.createElement("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email",required:!0}),r.a.createElement("input",{type:"password",value:a,onChange:e=>l(e.target.value),placeholder:"Password",required:!0}),r.a.createElement("button",{type:"submit"},"Login")))};var m=()=>{const[e,t]=Object(n.useState)(""),[a,l]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),u=Object(i.p)();return r.a.createElement("div",null,r.a.createElement("h2",null,"Register"),r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{await s.a.post("/api/users/register",{name:e,email:a,password:c}),u("/login")}catch(n){console.error("Registration failed",n)}}},r.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Name",required:!0}),r.a.createElement("input",{type:"email",value:a,onChange:e=>l(e.target.value),placeholder:"Email",required:!0}),r.a.createElement("input",{type:"password",value:c,onChange:e=>o(e.target.value),placeholder:"Password",required:!0}),r.a.createElement("button",{type:"submit"},"Register")))},p=a(12);var d=()=>{const[e,t]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{const e=localStorage.getItem("token"),a=await s.a.get("/api/tasks",{headers:{Authorization:"Bearer ".concat(e)}});t(a.data.tasks)})()},[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Tasks"),r.a.createElement(p.a,{onDragEnd:a=>{if(!a.destination)return;const n=Array.from(e),[r]=n.splice(a.source.index,1);n.splice(a.destination.index,0,r),t(n)}},r.a.createElement(p.c,{droppableId:"tasks"},t=>r.a.createElement("div",Object.assign({},t.droppableProps,{ref:t.innerRef}),e.map((e,t)=>r.a.createElement(p.b,{key:e.id,draggableId:e.id.toString(),index:t},t=>r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.a.createElement("h3",null,e.title),r.a.createElement("p",null,e.description)))),t.placeholder))))};var g=e=>{let{component:t,...a}=e;return r.a.createElement(i.b,Object.assign({},a,{element:r.a.createElement(i.a,{to:"/login"})}))};var E=function(){return r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",element:r.a.createElement(u,null)}),r.a.createElement(i.b,{path:"/register",element:r.a.createElement(m,null)}),r.a.createElement(i.b,{path:"/tasks",element:r.a.createElement(g,{component:d})})))};var b=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then(t=>{let{getCLS:a,getFCP:n,getFID:r,getLCP:l,getTTFB:c}=t;a(e),n(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null))),b()}},[[19,1,2]]]);
//# sourceMappingURL=main.90dc4e7b.chunk.js.map